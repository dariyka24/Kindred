import{g as m,r as o}from"./firebace-Cb3kG9CG.js";async function g(n,d,t){const i=m(n),r=[];if(d.forEach(e=>{t.forEach(a=>{e.userId==a.id&&r.push({id:e.id,img:e.img,title:e.title,info:e.info,userInfo:{id:a.id,name:`${a.name||"-"}.`,surname:a.surname},date:e.date})})}),!!i){if(i.innerHTML="",r.length===0){i.innerHTML="Звітність відсутня";return}r.sort((e,a)=>p(a.date).getTime()-p(e.date).getTime()).forEach(e=>{h(e,i)})}}function p(n){const[d,t,i]=n.split(".").map(Number);return new Date(i,t-1,d)}function f(n,d=3){const t=n.match(/[^.!?]+[.!?]+/g);if(!t)return n;const i=t.slice(0,d).join(" ").trim();return t.length>d?i+"...":i}function h(n,d){const t=o("a",["new",`new_${n.id}`]);t.href=`one-new.html?id=${n.id}`;const i=o("div","new__img");i.innerHTML=`
    <img src="${n.img}" alt="new"/>
  `;const r=o("div","new__info"),e=o("p","new__title");e.innerText=n.title;const a=o("p","new__text");a.innerText=f(n.info,4);const c=o("p","new__date");c.innerText=n.date;const l=o("a",["new__btn","btn","btn_orange"]);l.innerText="Переглянути",r.appendChild(e),r.appendChild(a),r.appendChild(c),r.appendChild(l),t.appendChild(i),t.appendChild(r),d.appendChild(t)}export{g as r};
