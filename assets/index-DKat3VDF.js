import{g as f,r as l,b as m,s as p,p as C}from"./firebace-Cb3kG9CG.js";import{r as g}from"./render-prod-cards-BG07nqjv.js";import{g as h,a as _}from"./requests-8AYIeyfP.js";async function v(s,r,a){const i=f(s),n=[];if(!i)return;r.forEach(e=>{const t=e.score.reduce((u,c)=>u+Number(c),0)/e.score.length,o={id:e.id,img:e.img,name:e.name,surname:e.surname,allCollections:e.myProds.length,succsesfulCollections:0,dateOfRegister:e.dateOfRegister,score:Math.round(t)};e.myProds.forEach(u=>{a.forEach(c=>{c.id===u&&c.status&&o.succsesfulCollections++})}),o.succsesfulCollections!==0&&o.allCollections!==0&&n.push(o)}),n.sort((e,t)=>e.succsesfulCollections===t.succsesfulCollections?t.score-e.score:t.succsesfulCollections-e.succsesfulCollections),n.slice(0,6).forEach(e=>{$(e,i)})}function $(s,r){const a=l("a",["user",`user_${s.id}`]);a.href=`user.html?id=${s.id}`;const i=l("div","user__img");i.innerHTML=`
     <img src="${s.img}" alt="${s.name}"/>
  `;const n=l("div","user__info"),d=l("div","user__name");d.innerText=`${s.name} ${s.surname}`;const e=l("div","user__all");e.innerText=`Кількість зборів: ${s.allCollections}`;const t=l("div","user__succsesful");t.innerText=`Успішних зборів: ${s.succsesfulCollections}`;const o=l("div","user__reg-date");o.innerText=`На сайті з ${s.dateOfRegister}`,n.appendChild(d),n.appendChild(e),n.appendChild(t),n.appendChild(o),a.appendChild(i),a.appendChild(n),r.appendChild(a)}document.addEventListener("DOMContentLoaded",async()=>{const s=await h(),r=await _();!s||!r||(m(),await g(".actual__list",s,r),await v(".volunteer-list",r,s),p())});document.addEventListener("loadingIsFinished",()=>{C()});
