import{g as m,r as o,b as p,s as C,p as g}from"./firebace-Cb3kG9CG.js";import{r as h}from"./render-prod-cards-BG07nqjv.js";import{g as _,a as v}from"./requests-CicnuAer.js";async function E(s,r,l){const a=m(s),n=[];if(!a)return;r.forEach(e=>{let t=0;if(!e)return;e.score.forEach(u=>{t+=Number(u)});const i=t/e.score.length,c={id:e.id,img:e.img,name:e.name,surname:e.surname,allCollections:e.myProds.length,succsesfulCollections:0,dateOfRegister:e.dateOfRegister,score:Math.round(i)};e.myProds.forEach(u=>{l.forEach(f=>{f.id===u&&f.status&&c.succsesfulCollections++})}),c.succsesfulCollections!==0&&c.allCollections!==0&&n.push(c)}),n.sort((e,t)=>e.succsesfulCollections===t.succsesfulCollections?t.score-e.score:t.succsesfulCollections-e.succsesfulCollections),n.slice(0,6).forEach(e=>{$(e,a)})}function $(s,r){const l=o("a",["user",`user_${s.id}`]);l.href=`user.html?id=${s.id}`;const a=o("div","user__img");a.innerHTML=`
     <img src="${s.img}" alt="${s.name}"/>
  `;const n=o("div","user__info"),d=o("div","user__name");d.innerText=`${s.name} ${s.surname}`;const e=o("div","user__all");e.innerText=`Кількість зборів: ${s.allCollections}`;const t=o("div","user__succsesful");t.innerText=`Успішних зборів: ${s.succsesfulCollections}`;const i=o("div","user__reg-date");i.innerText=`На сайті з ${s.dateOfRegister}`,n.appendChild(d),n.appendChild(e),n.appendChild(t),n.appendChild(i),l.appendChild(a),l.appendChild(n),r.appendChild(l)}document.addEventListener("DOMContentLoaded",async()=>{const s=await _(),r=await v();!s||!r||(p(),await h(".actual__list",s,r),await E(".volunteer-list",r,s),C())});document.addEventListener("loadingIsFinished",()=>{g()});
